webpackJsonp([1],{"1C5s":function(t,n){},H5VX:function(t,n){},NHnr:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=s("7+uW"),e={name:"Source",data:function(){return this.init(),{presets:["static/luka.txt","static/bigband.txt"],text:""}},methods:{init:function(){},next:function(){this.$store.commit("parseText",this.text),this.$emit("next")},loadPreset:function(t){var n=this;fetch(t).then(function(t){return t.text()}).then(function(t){n.text=t,setTimeout(function(){M.textareaAutoResize(n.$refs.text)},1)})}}},r={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",[s("p",[t._v("\n        Paste your one text below or select one of presets:\n        "),t._l(t.presets,function(n){return s("span",[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){t.loadPreset(n)}}},[t._v(t._s(n.split("/").pop().replace(".txt","")))]),t._v(" \n        ")])})],2),t._v(" "),s("a",{staticClass:"waves-effect waves-light btn",attrs:{href:"javascript:void(0)"},on:{click:t.next}},[t._v("Parse =>")]),s("br"),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],ref:"text",staticClass:"materialize-textarea",staticStyle:{width:"90%"},attrs:{placeholder:"Insert a text here"},domProps:{value:t.text},on:{input:function(n){n.target.composing||(t.text=n.target.value)}}})])},staticRenderFns:[]};var i=s("VU/8")(e,r,!1,function(t){s("H5VX")},"data-v-9618f7ac",null).exports,a=s("Gu7T"),c=s.n(a),u={name:"WordsList",data:function(){return{suffix:!0,sortCount:!0}},computed:{words:function(){var t=void 0;return t=this.suffix?[].concat(c()(this.$store.getters.wordsJoinedEx)):[].concat(c()(this.$store.getters.wordsEx)),this.sortCount&&t.sort(function(t,n){return n.count-t.count}),t},counts:function(){return this.$store.state.counts}},methods:{addKnown:function(t){this.$store.commit("addKnown",t)}}},l={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",[s("span",{staticClass:"switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.suffix,expression:"suffix"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.suffix)?t._i(t.suffix,null)>-1:t.suffix},on:{change:function(n){var s=t.suffix,o=n.target,e=!!o.checked;if(Array.isArray(s)){var r=t._i(s,null);o.checked?r<0&&(t.suffix=s.concat([null])):r>-1&&(t.suffix=s.slice(0,r).concat(s.slice(r+1)))}else t.suffix=e}}}),t._v(" "),s("span",{staticClass:"lever"}),t._v("\n            Consider a suffix\n        ")])]),t._v(" "),s("span",{staticClass:"switch"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sortCount,expression:"sortCount"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.sortCount)?t._i(t.sortCount,null)>-1:t.sortCount},on:{change:function(n){var s=t.sortCount,o=n.target,e=!!o.checked;if(Array.isArray(s)){var r=t._i(s,null);o.checked?r<0&&(t.sortCount=s.concat([null])):r>-1&&(t.sortCount=s.slice(0,r).concat(s.slice(r+1)))}else t.sortCount=e}}}),t._v(" "),s("span",{staticClass:"lever"}),t._v("\n            Sort by count\n        ")])]),t._v(" "),s("table",{staticClass:"highlight"},[s("tbody",t._l(t.words,function(n){return s("tr",[s("td",[t._v(t._s(n.word))]),t._v(" "),s("td",[t._v(t._s(n.count))]),t._v(" "),s("td",[s("button",{staticClass:"waves-effect waves-light btn",on:{click:function(s){t.addKnown(n.word)}}},[t._v("Known")])])])}))])])},staticRenderFns:[]};var f={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",[s("table",{staticClass:"highlight"},[s("tbody",t._l(t.knowns,function(n){return s("tr",[s("td",[t._v(t._s(n))]),t._v(" "),s("td",[s("button",{staticClass:"waves-effect waves-light btn",on:{click:function(s){t.remove(n)}}},[t._v("revert")])])])}))])])},staticRenderFns:[]};var d={name:"App",components:{Source:i,WordsList:s("VU/8")(u,l,!1,function(t){s("cI6p")},"data-v-3f1ab6cd",null).exports,Knowns:s("VU/8")({name:"Knowns",computed:{knowns:function(){return this.$store.state.knowns}},methods:{remove:function(t){this.$store.commit("delKnown",t)}}},f,!1,function(t){s("krzS")},"data-v-0b2fcba2",null).exports},data:function(){return{showTab:"source"}},methods:{activeTab:function(t){this.showTab=t,M.Tabs.getInstance(document.querySelector(".tabs")).select(t)}},mounted:function(){M.AutoInit()},created:function(){var t=this;fetch("static/knowns.list").then(function(t){return t.text()}).then(function(n){t.$store.commit("initKnowns",n.split(/[\n\r]+/))})}},v={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"row",attrs:{id:"tabs"}},[s("div",{staticClass:"col s12"},[s("ul",{staticClass:"tabs"},[s("li",{staticClass:"tab col s3"},[s("a",{class:{active:"source"==t.showTab},attrs:{href:"#source"},on:{click:function(n){t.showTab="source"}}},[t._v("Source")])]),t._v(" "),s("li",{staticClass:"tab col s3"},[s("a",{class:{active:"words"==t.showTab},attrs:{href:"#words"},on:{click:function(n){t.showTab="words"}}},[t._v("Words")])]),t._v(" "),s("li",{staticClass:"tab col s3"},[s("a",{class:{active:"knowns"==t.showTab},attrs:{href:"#knowns"},on:{click:function(n){t.showTab="knowns"}}},[t._v("Knowns")])])])]),t._v(" "),"source"==t.showTab?s("div",{staticClass:"col s12"},[s("Source",{ref:"source",on:{next:function(n){t.activeTab("words")}}})],1):t._e(),t._v(" "),"words"==t.showTab?s("div",{staticClass:"col s12"},[s("WordsList",{ref:"words"})],1):t._e(),t._v(" "),"knowns"==t.showTab?s("div",{staticClass:"col s12"},[s("Knowns")],1):t._e()])])},staticRenderFns:[]};var h=s("VU/8")(d,v,!1,function(t){s("1C5s")},null,null).exports,w=s("NYxO");o.a.use(w.a);var p=new w.a.Store({state:{words:[],counts:{},original:[],knowns:[]},getters:{wordsEx:function(t){return t.words.map(function(n){return{word:n,count:t.counts[n]||1}})},wordsJoinedEx:function(t){var n=[];return[].concat(c()(t.words)).sort().forEach(function(t){var s=function(t){for(var n=0;n<m.length;n++)if(t.endsWith(m[n]))return t.substr(0,t.length-m[n].length);return t}(t);if(s!=t){var o=n[n.length-1];if(s&&o.startsWith(s)&&m.map(function(t){}).concat(s).indexOf(o)>=0)return void(n[n.length-1]+=","+t)}n.push(t)}),n.map(function(n){var s=0;return n.split(",").forEach(function(n){return s+=t.counts[n]||1}),{word:n,count:s||1}})}},mutations:{addWord:function(t,n){n&&(t.knowns.indexOf(n)>=0||(t.words.indexOf(n)>=0?t.counts[n]=(t.counts[n]||1)+1:t.words.push(n)))},parseText:function(t,n){var s=this;n.split(/[\n\r\s]+/).forEach(function(t){t=function(t,n){for(var s='0123456789!"#$%&()*+,./:;<=>?[]^_{|}~“”…',o=["&nbsp;",/’s$/,/’ll$/,/’re$/,/n’t$/,/’ve#$/,/’ll$/,/[\u2000-\u20FF]/],e=0;e<o.length;e++)t=t.split(o[e]).join(n||"");for(var r=0;r<s.length;r++)t=t.split(s[r]).join(n||"");return t}(t," ").trim().toLowerCase(),s.commit("addWord",t)}),this.commit("doSort")},doSort:function(t){var n=t.words.slice();n.sort(function(n,s){return(t.counts[s]||1)-(t.counts[n]||1)}),t.words=n},addKnown:function(t,n){var s=this;n.split(",").forEach(function(n){t.knowns.indexOf(n)<0&&t.knowns.push(n),s.commit("localSave"),t.words.splice(t.words.indexOf(n),1),console.log("hide",n)})},delKnown:function(t,n){var s=t.knowns.indexOf(n);s>=0&&t.knowns.splice(s,1),this.commit("localSave")},localSave:function(t){var n=[],s=[];t.knowns.forEach(function(s){t.original.indexOf(s)<0&&n.push(s)}),t.original.forEach(function(n){t.knowns.indexOf(n)<0&&s.push(n)}),localStorage.setItem("add-knowns",n.join(";")),localStorage.setItem("del-knowns",s.join(";"))},localLoad:function(t){(localStorage.getItem("add-knowns")||"").split(";").forEach(function(n){t.knowns.indexOf(n)<0&&t.knowns.push(n)}),(localStorage.getItem("del-knowns")||"").split(";").forEach(function(n){var s=t.knowns.indexOf(n);s>=0&&t.knowns.splice(s,1)})},initKnowns:function(t,n){t.knowns=n,t.original=t.knowns.slice(),this.commit("localLoad")}},actions:{}});var m=["es","s","ed","d","ly","ing"];o.a.config.productionTip=!1,new o.a({el:"#app",store:p,components:{App:h},template:"<App/>"})},cI6p:function(t,n){},krzS:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.0f7c2cc3e4e431b404a1.js.map